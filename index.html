<html>
    <head>
        <title></title>
        <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
        <script src="/build.js"></script>
        <script src="/components/audioanalyser-levels-scale.js"></script>
        <script src="/components/aframe-sun-sky.js"></script>
        <script src="/components/aframe-randomizer-components.js"></script>
  </head>
  <body>
    <a-scene antialias="true">

        <a-assets>
            <a-mixin id="billboard"
                obj-model="obj: url(/models/billboard/billboard.obj); mtl: url(/models/billboard/billboard.mtl)"
                rotation="-90 0 0"
            ></a-mixin>
            <a-asset-item id="treeLine-obj" src="/models/treeLine/treeLine.obj"></a-asset-item>
            <a-asset-item id="treeLine-mtl" src="/models/treeLine/treeLine.mtl"></a-asset-item>
            <a-mixin id="trees"
                obj-model="obj: #treeLine-obj; mtl: #treeLine-mtl"
                rotation="0 90 0"
            ></a-mixin>
            <img id="road"
                 src="/images/road.jpg"
                 height="200"
                 width="200"
            >
            <img id="grass"
                 src="/images/grass.jpg"
                 height="200"
                 width="200"
            >
            <audio id="song" autoplay loop src="lightitup.wav"></audio>
        </a-assets>
        
        <a-entity camera
                  look-controls
                  position="0 1.6 0" >
        <a-animation attribute="position"
                dur="120000"
                easing="linear"
                to="0 1.6 -400"></a-animation>
        </a-entity>
        
        <a-plane
            src="#road"
            height="800"
            width="15"
            repeat="1 50"
            rotation="-90 0 0"
            position="-2 0 -200"
         ></a-plane>
        
        <a-plane
            src="#grass"
            height="800"
            width="100"
            repeat="1 50"
            rotation="-90 0 0"
            position="0 -0.1 -200"
         ></a-plane>

        <a-light
            type="ambient"
            color="#CCC"
        ></a-light>
        
        <a-entity light="type: directional; color: #FFF; intensity: 0.6" position="-0.5 1 1"></a-entity>
        
        <a-sun-sky
            material="sunPosition: -0.2 0.5 -5"
        ></a-sun-sky>

        <a-entity
            audioanalyser="src: #song; smoothingTimeConstant: 0.9"
            audioanalyser-levels-scale="max: 2; multiplier: 0.0059"
            entity-generator="mixin: billboard; num: 60"
            layout="margin: 10;"
            rotation="90 90 0"
            position="10 0 60"
        ></a-entity>

        <a-entity
            audioanalyser="src: #song; smoothingTimeConstant: 0.9"
            audioanalyser-levels-scale="max: 2; multiplier: 0.0059"
            entity-generator="mixin: billboard; num: 60"
            layout="margin: 10;"
            rotation="90 90 0"
            position="-13 0 60"
        ></a-entity>
        
        <a-entity
            entity-generator="mixin:trees; num: 30"
            layout="margin: 6;"
            rotation="0 90 0"
            position="13 0 50"
            scale="3.5 3.5 3.5"
        ></a-entity>
        
        <a-entity
            entity-generator="mixin:trees; num: 30"
            layout="margin: 6;"
            rotation="0 90 0"
            position="22 0 40"
            scale="3.5 3.5 3.5"
        ></a-entity>
        
        <a-entity
            entity-generator="mixin:trees; num: 30"
            layout="margin: 6;"
            rotation="0 90 0"
            position="20 0 50"
            scale="3.5 3.5 3.5"
        ></a-entity>
        
        <a-entity
            entity-generator="mixin:trees; num: 30"
            layout="margin: 6;"
            rotation="0 90 0"
            position="-13 0 50"
            scale="3.5 3.5 3.5"
        ></a-entity>
        
        <a-entity
            entity-generator="mixin:trees; num: 30"
            layout="margin: 6;"
            rotation="0 90 0"
            position="-22 0 40"
            scale="3.5 3.5 3.5"
        ></a-entity>
        
        <a-entity
            entity-generator="mixin:trees; num: 30"
            layout="margin: 6;"
            rotation="0 90 0"
            position="-20 0 50"
            scale="3.5 3.5 3.5"
        ></a-entity>
      </a-scene>
  </body>
</html>
